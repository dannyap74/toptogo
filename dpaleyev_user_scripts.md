### [ Сценарий 1 - Создание учетной записи ]
1. Пользователь выбирает войти через вконтакте или зарегистрироваться
2. Елси пользователь выбрал войти через Вконтакте, сервер получает его ФИ, возраст, фотографию профиля через vk api, список друзей
3. Иначе пользователь вводит свои ФИ, логин, пароль, возраст, почту
4. Приложение отправляет информацию на сервер
5. Если логин занят или пароль не подходит под критерии сервер отправляет сообщение об ошибке на сервер
4. Сервер генерирует одноразовый пароль и отправляет письмо с ним на указанную почту
5. Пользователь вводит одноразовый пароль 
6. Сервер получает одноразовый пароль и сверяет с отправленым
7. Если они не совпадают сервер отправляет сообщение об ошибке регистрации
8. Пользователь выбирает интересующих его артистов, либо импортирует из ВК, Apple Music, Spotify
9. Приложение отправляет информацию на сервер 
9. Сервер сохраняет профиль пользователя
10. Сервер проводит авторизацию пользователя

### [ Сценарий 2 - Вход ]
1. Пользователь вводит свои логин и пароль
2. Приложение получает кэш пароля и отправляет кэш и логин серверу
3. Сервер сравнивает полученный кэш пароля и сохраненный на сайте 
4. Если они не совпадают сервер отправляет сообщение об ошибке регистрации 
5. Сервер проводит авторизацию пользователя

### [ Сценарий 3 - Получение ленты мероприятий ]
1. Пользователь открывает ленту
2. Приложение отправляет запрос на сервер
3. Сервер выгружает базу данных с предстоящими мероприятиями 
4. Сервер присваивает каждому мероприятию вес исходя из метода коллаборативной фильтрации
5. Сервер сортирует по весу мероприятия
6. Сервер формирует json и отправляет приложению
7. Приложение распаковывает json на странице ленты

### [ Сценарий 4 - Открытие поста мероприятия ]
1. Пользователь открывает карточку мероприятия
2. Приложение из кэша приложения формирует страницу поста: Фотография, Название, Жанр(ы), Имена артистов, Время и место мероприятия, Ссылки на покупку билетов, Виджет с песнями артиста из Apple Music
3. Приложение отправляет серверу запрос 
3. Сервер получает список людей идущих на мероприятие из базы данных
4. Сервер выбирает среди них людей являющих "другом" пользователю
5. Сервер сортирует по схожести (см. метод коллаборативной фильтрации)
6. Сервер формирует json с профилями людей и отправляет приложению
7. Приложение делает предпросмотр идущих людей из 5 первых людей

### [ Сценарий 5 - Добавление поста в Мои мероприятия ]
* Предусловие: Пользователь просматривает карточку мероприятия

1. Пользователь нажимает кнопку добавить мероприятие 
2. Приложение показывает всплывающие окно с вопросом ищет ли он компанию
3. Сервер добавляет мероприятие в мероприятия пользователя
4. Если пользователь отметил, что ищет команию, то сервер добавляет его в список ищущих компанию на это мероприятие
5. В приложении изменяется статус с "Добавить концерт" на "Иду"

### [ Сценарий 6 - Удаление мероприятия из Мои мероприятия ]
* Предусловие: Пользователь просматривает карточку мероприятия

1. Пользователь нажимает кнопку удалить мероприятие 
2. Сервер удаляет мероприятие из мероприятий пользователя
3. В приложении изменяется статус с "Иду" на "Добавить концерт"


### [ Сценарий 7 - Просмотр списка идущих людей на концерт]
* Предусловие: Пользователь просматривает карточку мероприятия

1. Пользователь нажимает на список людей ищущих компанию на мероприятие
2. Приложение отправляет серверу запрос 
3. Сервер получает список людей идущих на мероприятие из базы данных
4. Сервер выбирает среди них людей являющих "другом" пользователю
5. Сервер сортирует по схожести (см. метод коллаборативной фильтрации)
6. Сервер формирует json с профилями людей и отправляет приложению
7. Приложение распаковывает json на странице идущих людей

### [ Сценарий 8 - Приглашение пользователя ]
* Предусловие: Пользователь просмотривает список людей идущих на мероприятие

1. Пользователь нажимает на кнопку пригласить напротив человека в списке 
2. Приложение отправляет на сервер запрос о приглашении 
3. Сервер сохраняет приглашение в уведомлениях пользователя

### [ Сценарий 9 - Получение уведомления]
1. Пользователь заходит в приложение
2. Приложение отправляет запрос на сервер
3. Сервер формирует json с последними уведомлениями и отправляет в приложение пользователя
4. Приложение распаковывает json на странице Уведомления
5. Если уведомление является приглашением появляется выбор ответить или отклонить
6. Если пользователь выбрал ответить приложение отправляет на сервер запрос о согласии
7. Сервер сохраняет приглашение в уведомлениях пользователя


### [ Сценарий 10 - Поиск]
1. Пользователь вводит тег/название/логин
2. Приложение отправляет запрос серверу
3. Сервер получает из базы данных мероприятия соответствующие по названию, либо по жанру, либо профили с таким логином (начинается на @)
4. Сервер формирует json с мероприятиями/пользователями 
5. сервер отправляет json в приложение
5. Приложение на странице поиска распаковывает json

### [ Сценарий 11 - Просмотр карточки артиста]
1. Пользователь открывает карточку
2. Приложение формирует запрос на сервер
3. Приложение собирает данные об артисте: фотография (обложка), текстовая информация, карточки ближайших мероприятий, виджет с песнями артиста из Apple Music
4. Приложение оформляет json и отправляет приложению
4. Приложение распаковывает json на странице артиста
5. Если пользователь подписан значок "following" окрашен

### [ Сценарий 12 - Добавление артиста]
* Предусловие: Пользователь просматривает карточку артиста

1. Пользователь нажимает кнопку добавить артиста
2. Приложение отправляет запрос на сервер с изменинием 
3. Сервер добавляет выбранного артиста в список избранных артистов
4. В приложении изменяется статус с "follow" на "following"

### [ Сценарий 13 - Удаление артиста]
* Предусловие: Пользователь просматривает карточку артиста

1. Пользователь нажимает кнопку удалить артиста
2. Приложение отправляет запрос на сервер с изменинием 
3. Сервер удаляет выбранного артиста из списка избранных артистов
4. В приложении изменяется статус с  "following" на "follow"

### [ Сценарий 14 - Просмотр страницы пользователя]
1. Пользователь открывает страницу
2. Приложение отправляет запрос на сервер 
3. Сервер собирает информацию из базы данных: фотографию профиля, избранные жанры/артисты, кол-во друзей ), кол-во посещённых концертов, ачивки (достижения за использование приложения и посещения мероприятий) карточки мероприятий пользователя.
4. Сервер формирует информацию в json 
5. Сервер отправляет json приложению
6. Приложение распаковывает json на страницу пользователя
5. Список друзей можно развернуть, аналогично поиску (см. Сценарий 10)
6. Возможность добавления в друзья аналогично "Приглашение пользователя" (См. Сценарий 8)

### [ Сценарий 15 - Просмотр своей страницы]
1. Пользователь открывает страницу
2. Приложение отправляет запрос на сервер 
3. Сервер собирает информацию из базы данных: фотографию профиля, избранные жанры/артисты, кол-во друзей ), кол-во посещённых концертов, ачивки (достижения за использование приложения и посещения мероприятий) карточки мероприятий пользователя.
4. Сервер формирует информацию в json
5. Сервер отправляет json приложению
6. Приложение распаковывает json на страницу пользователя
5. Список друзей можно развернуть, аналогично поиску (см. Сценарий 10)

### [ Сценарий 16 - Редактирование тегов]
1. Пользователь нажимает редактировать
2. Приложение отправляет запрос на сервер
3. Сервер собирает информацию из базы данных: избранных артистов и жанры
4. Сервер формирует информацию в json
5. Сервер отправляет json в приложение
6. Приложение распаковывает json на страницу избранных тэгов и артистов
2. Пользователь выбирает теги которые хочет удалить/добавить
3. Приложение отправляет обновлённых список на сервер
3. Сервер обновляет информацию в базе данных 

### [ Сценарий 17 - Редактирование профиля]
* Предусловие: Пользователь просматривает профиль

1. Пользователь нажимает кнопку редактировать 
2. Приложение открывает окно редоктирования с заполненной информацией о профиле получаемой из кэша приложения
3. Пользователь редактирует информацию 
4. Пользователь нажимает кнопку изменить 
5. Приложение отправляет обновлённую информацию на сервер
6. Если логин занят или пароль не подходит под критерии сервер отправляет сообщение об ошибке на сервер
7. Приложение показывает окно "Изменения сохранены"

### [ Сценарий 18 - Добавление мероприятий]
1. Сервер раз в 15 минут запускает скрипт
2. Скрипт получает страницы с Афиши, Яндекс.Афиши, Пономиналу, которые до этого не были обработанны скриптом
3. Скрипт парсит вэб-страницу
4. Скрипт получает следующие данны: ссылка на фотографию, название мероприятия, артисты, время и дата мероприятия, краткое описание
5. Скрипт формирует для каждой страницы json с информацией о мероприятии
6. Скрипт передаёт серверу информацию о каждом мероприятие в формате json
7. Сервер сохраняет в базу данных каждое мероприятие

